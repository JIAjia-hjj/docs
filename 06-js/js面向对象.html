<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向对象 | HHH</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/docs/favicon.ico">
    <link rel="manifest" href="/docs/manifest.json">
    <link rel="apple-touch-icon" href="/docs/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/docs/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-1CB2FVSC68"></script>
    <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());
            gtag('config', 'G-1CB2FVSC68');</script>
    <meta name="description" content="LLL">
    <meta name="author" content="HJJ">
    <meta name="keywords" content="vue[ress介绍，啥啥啥">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/docs/assets/css/0.styles.09a72791.css" as="style"><link rel="preload" href="/docs/assets/js/app.1512aaa2.js" as="script"><link rel="preload" href="/docs/assets/js/8.7187f971.js" as="script"><link rel="preload" href="/docs/assets/js/2.3cfa2b4e.js" as="script"><link rel="preload" href="/docs/assets/js/25.334c396f.js" as="script"><link rel="preload" href="/docs/assets/js/3.6a1efbaa.js" as="script"><link rel="prefetch" href="/docs/assets/js/10.6bdc4dd8.js"><link rel="prefetch" href="/docs/assets/js/11.a053abc1.js"><link rel="prefetch" href="/docs/assets/js/12.d4777868.js"><link rel="prefetch" href="/docs/assets/js/13.b0c169a2.js"><link rel="prefetch" href="/docs/assets/js/14.e365f036.js"><link rel="prefetch" href="/docs/assets/js/15.73e99950.js"><link rel="prefetch" href="/docs/assets/js/16.d2767207.js"><link rel="prefetch" href="/docs/assets/js/17.09be30c0.js"><link rel="prefetch" href="/docs/assets/js/18.f57eb329.js"><link rel="prefetch" href="/docs/assets/js/19.cb435bdf.js"><link rel="prefetch" href="/docs/assets/js/20.3fb6e545.js"><link rel="prefetch" href="/docs/assets/js/21.130c7703.js"><link rel="prefetch" href="/docs/assets/js/22.b0cad573.js"><link rel="prefetch" href="/docs/assets/js/23.5a47415e.js"><link rel="prefetch" href="/docs/assets/js/24.c839b120.js"><link rel="prefetch" href="/docs/assets/js/26.bb3312ff.js"><link rel="prefetch" href="/docs/assets/js/27.09e4b40c.js"><link rel="prefetch" href="/docs/assets/js/28.8c7325ad.js"><link rel="prefetch" href="/docs/assets/js/29.636cf6db.js"><link rel="prefetch" href="/docs/assets/js/30.d23d1476.js"><link rel="prefetch" href="/docs/assets/js/31.cf7289b8.js"><link rel="prefetch" href="/docs/assets/js/32.2c5c1569.js"><link rel="prefetch" href="/docs/assets/js/33.ece982d0.js"><link rel="prefetch" href="/docs/assets/js/34.6198aa94.js"><link rel="prefetch" href="/docs/assets/js/35.1432714f.js"><link rel="prefetch" href="/docs/assets/js/36.11bef8a0.js"><link rel="prefetch" href="/docs/assets/js/4.42d3ab57.js"><link rel="prefetch" href="/docs/assets/js/5.fd53b2ea.js"><link rel="prefetch" href="/docs/assets/js/6.fd3ce023.js"><link rel="prefetch" href="/docs/assets/js/7.28834bf7.js"><link rel="prefetch" href="/docs/assets/js/9.c25aaa63.js">
    <link rel="stylesheet" href="/docs/assets/css/0.styles.09a72791.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/" class="home-link router-link-active"><!----> <span class="site-name">HHH</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="05-css" class="dropdown-title"><span class="title">05-css</span> <span class="arrow down"></span></button> <button type="button" aria-label="05-css" class="mobile-dropdown-title"><span class="title">05-css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/05-css/" class="nav-link">
  05 Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/05-css/DIV水平垂直居中/" class="nav-link">
  DIV水平垂直居中
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="06-js" class="dropdown-title"><span class="title">06-js</span> <span class="arrow down"></span></button> <button type="button" aria-label="06-js" class="mobile-dropdown-title"><span class="title">06-js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/06-js/00-es6/" class="nav-link">
  00 Es6
</a></li><li class="dropdown-item"><!----> <a href="/docs/06-js/" class="nav-link router-link-active">
  06 Js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="about" class="dropdown-title"><span class="title">about</span> <span class="arrow down"></span></button> <button type="button" aria-label="about" class="mobile-dropdown-title"><span class="title">about</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about/" class="nav-link">
  About
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="05-css" class="dropdown-title"><span class="title">05-css</span> <span class="arrow down"></span></button> <button type="button" aria-label="05-css" class="mobile-dropdown-title"><span class="title">05-css</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/05-css/" class="nav-link">
  05 Css
</a></li><li class="dropdown-item"><!----> <a href="/docs/05-css/DIV水平垂直居中/" class="nav-link">
  DIV水平垂直居中
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="06-js" class="dropdown-title"><span class="title">06-js</span> <span class="arrow down"></span></button> <button type="button" aria-label="06-js" class="mobile-dropdown-title"><span class="title">06-js</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/06-js/00-es6/" class="nav-link">
  00 Es6
</a></li><li class="dropdown-item"><!----> <a href="/docs/06-js/" class="nav-link router-link-active">
  06 Js
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="about" class="dropdown-title"><span class="title">about</span> <span class="arrow down"></span></button> <button type="button" aria-label="about" class="mobile-dropdown-title"><span class="title">about</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/about/" class="nav-link">
  About
</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>06 Js</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/docs/06-js/js内置对象.html" class="sidebar-link">内置对象</a></li><li><a href="/docs/06-js/js数据类型.html" class="sidebar-link">JS中的数据类型</a></li><li><a href="/docs/06-js/js面向对象.html" class="active sidebar-link">面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#一、概念" class="sidebar-link">一、概念</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#二、创建对象方式" class="sidebar-link">二、创建对象方式</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#三、操作对象" class="sidebar-link">三、操作对象</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#四、构造函数" class="sidebar-link">四、构造函数</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#五、原型" class="sidebar-link">五、原型</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#六、继承" class="sidebar-link">六、继承</a></li><li class="sidebar-sub-header"><a href="/docs/06-js/js面向对象.html#七、objece" class="sidebar-link">七、Objece</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="面向对象"><a href="#面向对象" class="header-anchor">#</a> 面向对象</h1> <h2 id="一、概念"><a href="#一、概念" class="header-anchor">#</a> 一、概念</h2> <p><strong>什么是对象</strong>：</p> <ul><li>现实生活中：万物皆对象，对象是一个具体的事物，一个具体的事物就会有行为和特征。</li> <li><strong>JS中的对象：<strong>键值对，带有</strong>属性</strong>和<strong>方法</strong>的特殊数据类型。</li></ul> <p><strong>编程思想</strong>：</p> <ul><li>面向过程：所有的事情都是亲力亲为，注重的是过程</li> <li>面向对象：提出需求,找对象，对象解决，注重的是结果</li></ul> <p><strong>面向对象的特性</strong>：</p> <ul><li>封装：就是包装，把一些重用的内容进行包装，在需要的时候，直接使用。如属性、方法放在一个对象中。</li> <li>继承：类与类之间的关系，是基于原型。如，子类可使用父类中方法</li> <li>多态：同一个行为，针对不同的对象，产生了不同的效果</li></ul> <h2 id="二、创建对象方式"><a href="#二、创建对象方式" class="header-anchor">#</a> 二、创建对象方式</h2> <p><strong>方式一：new Object()</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'lisi'</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">35</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span>job <span class="token operator">=</span> <span class="token string">'actor'</span><span class="token punctuation">;</span>
person<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello,everyBody'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>方式二：对象字面量</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'zs'</span><span class="token punctuation">,</span>
  <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span>
  <span class="token literal-property property">sex</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHi</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>   
</code></pre></div><p><strong>方式三：工厂函数</strong>。无法识别对象类型。（瞎理解：工厂函数创建的对象都是的Object的实例。构造函数里面，构造出来的函数不仅是Object的实例，也是构造函数的实例。）</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> job</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  person<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  person<span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  person<span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  person<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello,everyBody'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> person<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token function">createPerson</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'actor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">createPerson</span><span class="token punctuation">)</span> <span class="token comment">//false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre></div><p><strong>方式四：自定义构造函数</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>job</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>job <span class="token operator">=</span> job<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello,everyBody'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">22</span><span class="token punctuation">,</span> <span class="token string">'actor'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="三、操作对象"><a href="#三、操作对象" class="header-anchor">#</a> 三、<strong>操作对象</strong></h2> <ul><li>遍历，for...in</li></ul> <div class="language- extra-class"><pre class="language-text"><code>var obj = {name:'hjj',age:'18'};
for(var key in obj) {
  console.log(key + &quot;==&quot; + obj[key]);
}
</code></pre></div><ul><li>删除对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">delete</span> obj<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
</code></pre></div><h2 id="四、构造函数"><a href="#四、构造函数" class="header-anchor">#</a> 四、构造函数</h2> <ul><li>是一种特殊的函数。主要用来在创建对象时初始化对象。</li> <li>构造函数用于创建一一类对象，首字母要大写。</li> <li>构造函数要和new一起使用才有意义。</li> <li><strong>好处</strong>：代码的简洁性，识别对象的具体类型。</li></ul> <h3 id="_4-1-new关键字"><a href="#_4-1-new关键字" class="header-anchor">#</a> 4.1.new关键字</h3> <p><strong>new在执行时会做四件事情：</strong></p> <ul><li>在内存中创建一个新的空对象</li> <li>让this指向这个新的对象</li> <li>执行构造函数。目的：给这个新对象加属性和方法</li> <li>new会返回这个新对象</li></ul> <h3 id="_4-2-和实例对象的关系"><a href="#_4-2-和实例对象的关系" class="header-anchor">#</a> 4.2.和实例对象的关系</h3> <p><strong>constructor 属性：</strong></p> <ul><li>每一个实例对象中的__proto__中同时有一个 <code>constructor</code> 属性，该属性指向创建该实例的构造函数。</li> <li>可用来标识对象类型。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span> <span class="token comment">// =&gt; 返回构造函数本身</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Person<span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
<span class="token comment">//instanceof操作符,检测对象的类型更可靠</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1 <span class="token keyword">instanceof</span> <span class="token class-name">Person</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p><strong>总结：</strong></p> <ul><li>构造函数是根据具体的事物抽象出来的抽象模板</li> <li>实例对象是根据抽象的构造函数模板得到的具体实例对象</li> <li>每一个实例对象都具有一个 <code>constructor</code> 属性，指向创建该实例的构造函数。
<ul><li>注：<code>constructor</code> 是实例的属性的说法不严谨</li></ul></li> <li>可以通过实例的 <code>constructor</code> 属性判断实例和构造函数之间的关系
<ul><li>注：这种方式不严谨，推荐使用 <code>instanceof</code> 操作符</li></ul></li></ul> <p>==注：==constructor属性，是构造函数中<code>prototype</code>属性的成员，指向 <code>prototype</code> 对象所在函数(构造函数)。实例对象中有<code>__proto__</code>属性，是个对象，会指向构造函数中prototype对象。所以实例对象也接继承了原型对象的成员constructor属性。（具体内容见原型）</p> <div class="language- extra-class"><pre class="language-text"><code>实例对象.__proto__===构造函数.prototype
</code></pre></div><h3 id="_4-3-问题"><a href="#_4-3-问题" class="header-anchor">#</a> 4.3.问题</h3> <ul><li>浪费内存</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'human'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sayHello</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'lpz'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>
<span class="token comment">/*
1、每一个实例对象，`type` 和 `sayHello` 都是一模一样的内容，
2、每一次生成一个实例，都必须为重复的内容，多占用一些内存，如果实例对象很多，会造成极大的内存浪费。
*/</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>sayHello <span class="token operator">===</span> p2<span class="token punctuation">.</span>sayHello<span class="token punctuation">)</span> <span class="token comment">// =&gt; false</span>
</code></pre></div><h2 id="五、原型"><a href="#五、原型" class="header-anchor">#</a> 五、原型</h2> <ul><li>实例对象中有**<code>__proto__</code>**属性，叫原型，是一个对象，是给浏览器使用，不是标准的属性-----&gt;可以叫原型对象</li> <li>任意函数中 **<code>prototype</code>**属性，叫原型，是一个对象，是给程序员使用，是标准的属性----&gt;可以叫原型对象。</li> <li>函数也是对象，所以也有<code>__proto__</code>属性</li></ul> <h3 id="_5-1-prototype"><a href="#_5-1-prototype" class="header-anchor">#</a> 5.1.prototype</h3> <ul><li>每一个构造函数都有一个 <code>prototype</code> 属性，是一个对象。</li> <li><code>prototype</code>对象的所有属性和方法，都会被构造函数的实例继承。</li> <li>所有对象实例需要共享的属性和方法，直接定义在 <code>prototype</code> 对象上。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'human'</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> p1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'lpz'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>
<span class="token keyword">var</span> p2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">'Jack'</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>p1<span class="token punctuation">.</span>sayName <span class="token operator">===</span> p2<span class="token punctuation">.</span>sayName<span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
<span class="token comment">//这时所有实例的 `type` 属性和 `sayName()` 方法，</span>
<span class="token comment">//其实都是同一个内存地址，指向 `prototype` 对象，因此就提高了运行效率。</span>
</code></pre></div><h3 id="_5-2-构造函数、实例、原型三者之间的关系"><a href="#_5-2-构造函数、实例、原型三者之间的关系" class="header-anchor">#</a> 5.2.构造函数、实例、原型三者之间的关系</h3> <p><img src="img%5C%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0-%E5%AE%9E%E4%BE%8B-%E5%8E%9F%E5%9E%8B%E4%B9%8B%E9%97%B4%E7%9A%84%E5%85%B3%E7%B3%BB.png" alt=""></p> <p><strong>1、任何函数中有 <code>prototype</code> 属性，是一个对象。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token constant">F</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// =&gt; object</span>
<span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi!'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>2、构造函数的 <code>prototype</code> 对象默认都有一个 <code>constructor</code> 属性，指向 <code>prototype</code> 对象所在函数。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">F</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> <span class="token constant">F</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
</code></pre></div><p><strong>3、实例对象中有<code>__proto__</code>属性，是一个对象，指向构造函数的 <code>prototype</code> 对象。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>instance<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">F</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">F</span><span class="token punctuation">.</span>__proto__<span class="token operator">===</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token comment">// =&gt; true</span>
<span class="token comment">//构造函数也是对象，所以也有`__proto__`属性</span>
</code></pre></div><p><strong>4、实例对象可以直接或间接继承了原型对象成员。</strong></p> <div class="language-js extra-class"><pre class="language-js"><code>instance<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; hi!</span>
</code></pre></div><h3 id="_5-3-原型链"><a href="#_5-3-原型链" class="header-anchor">#</a> 5.3.原型链</h3> <blockquote><p>原型链是一种关系,实例对象和原型对象之间的关系,关系是通过原型(<code>__proto__</code>)来联系的</p></blockquote> <p><strong>属性成员的搜索原则：原型链</strong></p> <ul><li>实例对象使用属性或方法时，先在<strong>实例本身</strong>中查找，找到了则直接使用</li> <li>找不到，则沿着原型链向上查找，（去实例对象的<code>__proto__</code>指向的**原型对象<code>prototype</code>**中找），找到了则使用。</li> <li>如果一直到原型链的末端还没有找到，则返回 <code>undefined</code></li></ul> <h3 id="_5-4-原型语法"><a href="#_5-4-原型语法" class="header-anchor">#</a> 5.4.原型语法</h3> <ul><li><code>Person.prototype</code> 重置到了一个新的对象。添加成员更简单。但是丢失了<code>constructor</code> 成员</li> <li>为了保持 <code>constructor</code> 的指向正确。需手动添加。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">constructor</span><span class="token operator">:</span> Person<span class="token punctuation">,</span> <span class="token comment">// =&gt; 手动将 constructor 指向正确的构造函数</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">'human'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">sayHello</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我叫'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">'，我今年'</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">+</span> <span class="token string">'岁了'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-5-使用建议"><a href="#_5-5-使用建议" class="header-anchor">#</a> 5.5.使用建议</h3> <ul><li>私有成员（一般就是非函数成员）放到构造函数中</li> <li>共享成员（一般就是函数）放到原型对象中</li> <li>如果重置了 <code>prototype</code> 记得修正 <code>constructor</code> 的指向</li> <li>通过实例对象不改变原型对象中的属性值。</li></ul> <h2 id="六、继承"><a href="#六、继承" class="header-anchor">#</a> 六、继承</h2> <h3 id="_6-1-原型继承"><a href="#_6-1-原型继承" class="header-anchor">#</a> 6.1.原型继承</h3> <ul><li>改变原型指向，数据共享，实现的继承</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">&quot;人可以吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token operator">=</span>score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//改变学生的原型的指向即可==========&gt;学生和人已经发生关系</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token string">&quot;小明&quot;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">study</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;学习很累很累的哦.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> stu<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token comment">//小明 10 100</span>
stu<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//小明人可以吃东西</span>


<span class="token keyword">var</span> stu2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu2<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token comment">//小明 10 200</span>
stu2<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//小明人可以吃东西</span>
stu2<span class="token punctuation">.</span>name<span class="token operator">=</span><span class="token string">&quot;小红&quot;</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu2<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token comment">//小红 10 200</span>
</code></pre></div><ul><li><p>**缺陷：**直接初始化了属性，继承过来的属性的值都是一样的。只能重新调用对象的属性进行重新赋值。</p></li> <li><p>**解决方案：**继承的时候,不用改变原型的指向，直接调用父级的构造函数的方式来为属性赋值就可以了。借用构造函数：把要继承的父级的构造函数拿过来,使用一下就可以了。</p></li></ul> <h3 id="_6-2-借用构造函数"><a href="#_6-2-借用构造函数" class="header-anchor">#</a> 6.2.借用构造函数</h3> <ul><li>call()、apply()、bind()</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'human'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>  
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Student</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span>scroe</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>scroe<span class="token operator">=</span>scroe
  <span class="token comment">// 借用构造函数继承Person属性成员。。</span>
  <span class="token comment">//这里的this:把Student这个构造函数里面的this指向,替换到Person的this指向中</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> stu <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'小明'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>type<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>scroe<span class="token punctuation">)</span> <span class="token comment">// human 小明 18 100</span>
<span class="token keyword">var</span> stu2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu2<span class="token punctuation">.</span>type<span class="token punctuation">,</span> stu2<span class="token punctuation">.</span>name<span class="token punctuation">,</span> stu2<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>scroe<span class="token punctuation">)</span> <span class="token comment">// human 张三 20 200</span>
</code></pre></div><h3 id="_6-3-组合继承"><a href="#_6-3-组合继承" class="header-anchor">#</a> 6.3.组合继承</h3> <ul><li>原型继承+借用构造函数继承</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'human'</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token operator">=</span>age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayHi</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">Student</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span>age<span class="token punctuation">,</span>score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//借用构造函数:属性值重复的问题</span>
    <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token operator">=</span>score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//改变原型指向----继承</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//不传值</span>
<span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">eat</span><span class="token operator">=</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">+</span><span class="token string">&quot;吃东西&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> stu<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小黑&quot;</span><span class="token punctuation">,</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token string">&quot;100分&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu<span class="token punctuation">.</span>type<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>name<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//human 小黑 20 100分</span>
stu<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello</span>
stu<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//小黑吃东西</span>
<span class="token keyword">var</span> stu2<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">&quot;小黑黑&quot;</span><span class="token punctuation">,</span><span class="token number">200</span><span class="token punctuation">,</span><span class="token string">&quot;1010分&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stu2<span class="token punctuation">.</span>type<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>name<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>age<span class="token punctuation">,</span>stu2<span class="token punctuation">.</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//human 小黑黑 200 1010分</span>
stu2<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//hello</span>
stu2<span class="token punctuation">.</span><span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//小黑黑吃东西</span>
</code></pre></div><h3 id="_6-4-拷贝继承"><a href="#_6-4-拷贝继承" class="header-anchor">#</a> 6.4.拷贝继承</h3> <ul><li>把一个对象中的属性或者方法直接复制到另一个对象中</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">'human'</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age
<span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sayName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Student</span> <span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">Person</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// 原型对象拷贝继承原型对象成员</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> key <span class="token keyword">in</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token class-name">Student</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> s1 <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token string">'张三'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span>

s1<span class="token punctuation">.</span><span class="token function">sayName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// =&gt; hello 张三</span>
</code></pre></div><h2 id="七、objece"><a href="#七、objece" class="header-anchor">#</a> 七、Objece</h2> <p>相关用法可查看<a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer">MDN<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="静态成员"><a href="#静态成员" class="header-anchor">#</a> 静态成员</h3> <blockquote><p>静态成员：由<strong>构造函数直接访问</strong>到的属性和方法。</p></blockquote> <ul><li><strong>Object.create</strong>(proto, propertiesObject)：创建一个新对象，使用现有的对象来提供新创建的对象的<code>__proto_</code>。<strong>返回一个新对象</strong>，带着指定的原型对象和属性。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> person <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'HHH'</span><span class="token punctuation">,</span>
  <span class="token function-variable function">say</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> say hello </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//第二个参数的用法：和Object.defineProperties相同</span>
<span class="token keyword">const</span> me <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'18'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
me<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//HHH say hello 18 </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">)</span><span class="token comment">//{age: '18'}==&gt;里面还有__proto__属性</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span><span class="token comment">//{name: 'HHH', say: ƒ}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>me<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token comment">//'HHH'</span>
</code></pre></div><ul><li><strong>Object.assign</strong>(target, source_1, ···)：用于将源对象的所有可枚举属性复制到目标对象中。<strong>返回新对象</strong>。属于浅拷贝。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> object2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">b</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> object3 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">c</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>object2<span class="token punctuation">,</span>object3<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 第一个参数是目标对象，后面的参数是源对象</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// {a: 1, b: 2, c: 3}</span>

Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// [5,3]。。==&gt;[2,3]=&gt;{0:2,1:3}=&gt;属性复制</span>
</code></pre></div><ul><li><strong>Object.keys</strong>(obj)：返回值是一个数组。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// [&quot;name&quot;, &quot;age&quot;,&quot;getName&quot;]</span>

<span class="token keyword">let</span> arr<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token number">33</span><span class="token punctuation">]</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token comment">// ['0', '1', '2']</span>

<span class="token keyword">let</span> str<span class="token operator">=</span><span class="token string">'abcdef'</span>
Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token comment">// ['0', '1', '2', '3', '4', '5']</span>
</code></pre></div><ul><li><strong>Object.definedProperties</strong>(obj,props)：直接在一个对象上定义新的属性或修改现有属性，并返回该对象。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'HJJ'</span><span class="token punctuation">,</span><span class="token literal-property property">height</span><span class="token operator">:</span><span class="token number">160</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperties</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token string-property property">'name'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'HHHH'</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token string-property property">'age'</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">'18'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token comment">//{name: 'HHHH', height: 160, age: '18'}</span>
</code></pre></div><ul><li><strong>Object.is</strong>(value1, value2)：用来比较两个值是否严格相等，与（===）基本类似。<strong>返回布尔值</strong>。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// false</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token literal-property property">a</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// false</span>

<span class="token comment">//与（===）的区别</span>
Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token operator">+</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token operator">-</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//false</span>
<span class="token operator">+</span><span class="token number">0</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">0</span>  <span class="token comment">//true</span>

Object<span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span><span class="token number">NaN</span><span class="token punctuation">,</span><span class="token number">NaN</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//true</span>
<span class="token number">NaN</span><span class="token operator">===</span><span class="token number">NaN</span> <span class="token comment">//false</span>
</code></pre></div><ul><li><strong>Object.getOwnPropertyNames</strong>()：方法返回对象的所有自身属性的属性名。不包括Symbol值作为名称的属性。</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">&quot;张三&quot;</span><span class="token punctuation">,</span><span class="token literal-property property">age</span><span class="token operator">:</span><span class="token number">25</span><span class="token punctuation">,</span><span class="token function-variable function">getName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token function">Symbol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token operator">:</span><span class="token string">&quot;zs&quot;</span><span class="token punctuation">}</span>
Object<span class="token punctuation">.</span><span class="token function">getOwnPropertyNames</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span> <span class="token comment">// [&quot;name&quot;, &quot;age&quot;,&quot;getName&quot;]</span>

</code></pre></div><h3 id="实例成员"><a href="#实例成员" class="header-anchor">#</a> 实例成员</h3> <blockquote><p>实例成员：由构造函数创建出来的<strong>对象能直接访问的属性和方法</strong>，包括：对象本身以及原型中的所有的属性和方法。</p></blockquote> <ul><li>constructor</li> <li>hasOwnProperty()：判断是否是实例属性。返回值是布尔值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>
    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'HHH'</span>
<span class="token punctuation">}</span>
obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//true</span>
obj<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//false</span>
</code></pre></div><ul><li>isPrototypeOf</li> <li>propertyIsEnumerable()</li> <li>toString()</li> <li>valueOf()</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">更新时间:</span> <span class="time">2022-05-16 6:19:58</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docs/06-js/js数据类型.html" class="prev">
        JS中的数据类型
      </a></span> <!----></p></div>  <!----></main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/docs/assets/js/app.1512aaa2.js" defer></script><script src="/docs/assets/js/8.7187f971.js" defer></script><script src="/docs/assets/js/2.3cfa2b4e.js" defer></script><script src="/docs/assets/js/25.334c396f.js" defer></script><script src="/docs/assets/js/3.6a1efbaa.js" defer></script>
  </body>
</html>
